
request:
    shell: |
        curl -v https://gw.sandbox.gopay.com/api/oauth2/token \
        -X "POST" \
        -H "Accept: application/json" \
        -H "Content-Type: application/x-www-form-urlencoded" \
        -u "<Client ID>:<Client Secret>" \
        -d "grant_type=client_credentials&scope=payment-create"
    phpcurl:
        cs: |
            <?php
            $ch = curl_init();

            $data = array(
                       'grant_type' => 'client_credentials',
                       'scope' => 'payment-create'
                   );

            $data_send = http_build_query($data);

            curl_setopt($ch, CURLOPT_URL, "https://gw.sandbox.gopay.com/api/oauth2/token");
            curl_setopt($ch, CURLOPT_HTTPHEADER,
              array('Accept: application/json',
                    'Content-Type: application/x-www-form-urlencoded'));
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_USERPWD, $clientID.":".$clientSecret); 
            // nutno doplnit client id a client secret ziskane pri zahájení integrace
            curl_setopt($ch, CURLOPT_POSTFIELDS, $data_send);

            $result = curl_exec($ch);
        en: |
            <?php
            $ch = curl_init();

            $data = array(
                       'grant_type' => 'client_credentials',
                       'scope' => 'payment-create'
                   );

            $data_send = http_build_query($data);

            curl_setopt($ch, CURLOPT_URL, "https://gw.sandbox.gopay.com/api/oauth2/token");
            curl_setopt($ch, CURLOPT_HTTPHEADER,
              array('Accept: application/json',
                    'Content-Type: application/x-www-form-urlencoded'));
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_USERPWD, $clientID.":".$clientSecret); 
            // need to pass client id and client secret
            curl_setopt($ch, CURLOPT_POSTFIELDS, $data_send);

            $result = curl_exec($ch);

response:
    json: |
        {
            "token_type":"bearer",
            "access_token":"AAAnu3YnAHRk298EsmyttFQMcbCcvmwTKK5hrJx2aGG8ZnFyBJhAvFWNmbWVSD7p",
            "expires_in":1800,
        }